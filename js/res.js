var DATABASE={},NAME_TO_NICK={"G-531-MI":"4h6k","D-022-MI":"Drake Turbo","Q-002-UL":"Gear Turbo","Q-010-UL":"Gear Turbo","Q-051-UL":"Gear Turbo","Q-068-UL":"Gear Turbo","Q-089-UL":"Gear Turbo","Q-002-MI":"4h Plates","Q-010-MI":"4h Plates","Q-051-MI":"4h Plates","Q-068-MI":"4h Plates","Q-089-MI":"4h Plates","H-387-MI":"1h Cubes","H-339-MI":"2h Cubes","H-207-RF":"4h Cubes","H-060-UL":"Soul Turbo","Q-302-MI":"1h Plates","Q-310-MI":"1h Plates","Q-351-MI":"1h Plates","Q-368-MI":"1h Plates","Q-389-MI":"1h Plates","Q-202-MI":"2h Plates","Q-210-MI":"2h Plates","Q-251-MI":"2h Plates","Q-268-MI":"2h Plates","Q-289-MI":"2h Plates","C-153-MI":"6h Free","C-185-MI":"8h Free","C-038-RF":"12h Free","D-021-MI":"Cheshire Turbo","D-072-MI":"Mainz Turbo","D-077-MI":"Odin Turbo","D-095-MI":"Champagne Turbo","D-721-MI":"Cheshire 2h30m","D-722-MI":"Drake 2h30m","D-772-MI":"Mainz 2h30m","D-777-MI":"Odin 2h30m","D-795-MI":"Champagne 2h30m","D-321-MI":"Cheshire 5h","D-322-MI":"Drake 5h","D-372-MI":"Mainz 5h","D-377-MI":"Odin 5h","D-395-MI":"Champagne 5h","D-421-MI":"Cheshire 8h","D-422-MI":"Drake 8h","D-472-MI":"Mainz 8h","D-477-MI":"Odin 8h","D-495-MI":"Champagne 8h","G-412-MI":"Faceless 1h30","G-236-MI":"Faceless 2h30","T-018-MI":"2 Comms","E-315-MI":"2h Scrap 15","B-351-RF":"4h W11 Clears","E-031-MI":"2h Scrap 8","T-384-MI":"4 Comms"},CONVERT_GEAR_RARITY={1:"rarity-gray",2:"rarity-gray",3:"rarity-blue",4:"rarity-purple",5:"rarity-gold",6:"rarity-rainbow"};const AWARD_ENTRY=({id:a,icon:b,rarity:c,count:d,bonus:e})=>`
<div class="gear-slot ${c}">
    <img src="img/${b}.png" />
    ${e?`<div class="bonus"></div>`:``}
    ${1<d?`<div class="count">${d}</div>`:``}
</div>
`,TD_ENTRY=({drops:a})=>`
<div style="flex-direction:row; display:flex; flex-wrap: wrap;">${a}</div>
`;function loadItem(a){return 999999==a?{icon:"props/coins",rarity:0}:a in DATABASE.items?DATABASE.items[a]:null}function init(){let a=window.location.href,b=new URL(a);if(console.log(b),"?log"!=b.search)return void $("#container").hide();let c=loadDb();c.then(function(){let a=window.location.href,b=new URL(a),c=[];for(entryId in DATABASE.results){let a=DATABASE.results[entryId],b={icon:"-",name:DATABASE.researches[a.id].code+"<br>"+NAME_TO_NICK[DATABASE.researches[a.id].code]},d=[];for(commonId in a.common){let b=a.common[commonId],c=loadItem(b.id);d.push(AWARD_ENTRY({id:b.id,count:b.qty,bonus:!1,icon:c.icon,rarity:CONVERT_GEAR_RARITY[c.rarity+1]}))}for(bonusId in a.bonus){let b=a.bonus[bonusId],c=loadItem(b.id);d.push(AWARD_ENTRY({id:b.id,count:b.qty,bonus:!0,icon:c.icon,rarity:CONVERT_GEAR_RARITY[c.rarity+1]}))}b.drops=TD_ENTRY({drops:d.join("")}),c.push(b)}$("#dtBasicExample").DataTable({paging:!0,searching:!0,info:!0,ordering:!1,columnDefs:[{width:"15%",targets:0},{width:"15%",targets:1},{width:"70%",targets:2}],columns:[{data:"icon"},{data:"name"},{data:"drops"}],data:c})})}function loadDb(){var a=$.getJSON("../data/mergedb-rel.json",function(a){DATABASE=a});return Promise.all([a])}