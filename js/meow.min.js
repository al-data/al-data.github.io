var MEOW_MAX_LEVEL = 30, MEOW_MIN_LEVEL = 1, MEOW_NUM_ABILITIES = 3, MEOW_NUM_ATTRS = 6, MEOW_ATTR_RATES_NORM = 9e3; EMeowAbilities = { COMMAND: 0, TACTICS: 1, LOGISTICS: 2 }, DMeowAttrRates = { 0: [0, 3e3, 0, 9e3, 6e3, 0], 1: [0, 6e3, 9e3, 0, 0, 3e3], 2: [9e3, 0, 0, 0, 3e3, 6e3] }, DMeowAttrIdxs = { 0: EAttributes.DURABILITY, 1: EAttributes.TORP, 2: EAttributes.AA, 3: EAttributes.ANTISUB, 4: EAttributes.CANNON, 5: EAttributes.AIR }; function calcMeowAbility(a, b) { return a + a * (3 / 38) * (b - 1) } function calcMeowAttrAdds(b, c) { let d = 0; for (let e = 0; e < MEOW_NUM_ABILITIES; e++)d += DMeowAttrRates[e][b] * c[e]; return d /= MEOW_ATTR_RATES_NORM, 2.16 * d / (100 + .36 * d) } class Meowficer { constructor(a) { this.id = a, this.name = "", this.level = 1, this.skills = [], this.talents = [], this.baseAbl = [], this.abilities = []; for (let b = 0; b < MEOW_NUM_ABILITIES; b++)this.baseAbl.push(0), this.abilities.push(0); this.attrAdds = []; for (let b = 0; b < MEOW_NUM_ATTRS; b++)this.attrAdds.push(0); this.loadMeowficer(a), this.setLevel(this.level) } loadMeowficer(a) { let b = loadCat(a); this.name = b.name, this.icon = b.icon, this.rarity = b.rarity, this.nation = b.nation, this.baseAbl = [b.command, b.tactic, b.support] } getTalents() { return this.talents } getAbilities() { return this.abilities } getAttrAdditions() { return this.attrAdds } getLevel() { return this.level } updateAbilities() { for (let b = 0; b < MEOW_NUM_ABILITIES; b++)this.abilities[b] = Math.floor(calcMeowAbility(this.baseAbl[b], this.level)) } updateAttrAdds() { for (let b = 0; b < MEOW_NUM_ATTRS; b++)this.attrAdds[b] = +calcMeowAttrAdds(b, this.abilities).toPrecision(4) } setLevel(a) { a >= MEOW_MIN_LEVEL && a <= MEOW_MAX_LEVEL && (this.level = a, this.updateAbilities(), this.updateAttrAdds()) } getTotalAdds() { let b = 0; for (let c = 0; c < MEOW_NUM_ATTRS; c++)b += this.attrAdds[c]; return b.toPrecision(5) } getEntry() { return ["<div style='width:50px; height:50px;'><img src='img/cat-icons/" + this.icon + ".png' style='width:50px;' /></div>", this.name, this.abilities[EMeowAbilities.COMMAND], this.abilities[EMeowAbilities.TACTICS], this.abilities[EMeowAbilities.LOGISTICS], this.attrAdds[0], this.attrAdds[4], this.attrAdds[1], this.attrAdds[5], this.attrAdds[2], this.attrAdds[3], this.getTotalAdds()] } }