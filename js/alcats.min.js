var EAttributes = { DURABILITY: 0, CANNON: 1, TORP: 2, AA: 3, AIR: 4, RELOAD: 5, ARMOR: 6, HIT: 7, EVA: 8, SPEED: 9, LUCK: 10, ANTISUB: 11, props: { 0: { name: "Durability", value: 0, code: "HP" }, 1: { name: "Firepower", value: 1, code: "FP" }, 2: { name: "Torp", value: 2, code: "TORP" }, 3: { name: "Anti-Air", value: 3, code: "AA" }, 4: { name: "Airpower", value: 4, code: "AP" }, 5: { name: "Reload", value: 5, code: "REL" }, 6: { name: "Armor", value: 6, code: "ARMOR" }, 7: { name: "Hit", value: 7, code: "HIT" }, 8: { name: "Evasion", value: 8, code: "EVA" }, 9: { name: "Speed", value: 9, code: "SPD" }, 10: { name: "Luck", value: 10, code: "LUCK" }, 11: { name: "Antisub", value: 11, code: "ASW" } } }; function resetTable(a) { var b = $("#dtBasicExample").DataTable(), c = b.order(); b.destroy(), $("#dtBasicExample").empty(); let d = []; for (let b = 0; b < a.length; b++)d.push(a[b].getEntry()); $("#dtBasicExample").DataTable({ data: d, columns: [{ title: "Icon" }, { title: "<div style='width:100px;'>Name</div>" }, { title: "Command" }, { title: "Tactics" }, { title: "Support" }, { title: "<img src='img/attr/hp.png' style='width: 30px;' />" }, { title: "<img src='img/attr/fp.png' style='width: 30px;' />" }, { title: "<img src='img/attr/torp.png' style='width: 30px;' />" }, { title: "<img src='img/attr/air.png' style='width: 30px;' />" }, { title: "<img src='img/attr/aa.png' style='width: 30px;' />" }, { title: "<img src='img/attr/asw.png' style='width: 30px;' />" }, { title: "<div style='width:70px;'>Total %</div>" }], paging: !1 }), $("#dtBasicExample").DataTable().order(c), $("#dtBasicExample").DataTable().draw() } function setLevels(a) { for (let b = 0; b < MEOWFICER_INSTANCES.length; b++)MEOWFICER_INSTANCES[b].setLevel(a) } var MEOWFICERS_PATH = "../data/cats-db.json", MEOWFICERS_DATABASE = {}, MEOWFICER_INSTANCES = []; function loadJsonDBs() { var a = $.getJSON(MEOWFICERS_PATH, function (a) { MEOWFICERS_DATABASE = a }); return Promise.all([a]) } function loadCat(a) { return a in MEOWFICERS_DATABASE ? MEOWFICERS_DATABASE[a] : (console.log("No enemy with id " + a), null) } function stepDown() { let a = parseInt($("#inLevel").val()); 1 < a && ($("#inLevel").val(a - 1), $("#inLevel").trigger("change")) } function stepUp() { let a = parseInt($("#inLevel").val()); 30 > a && ($("#inLevel").val(a + 1), $("#inLevel").trigger("change")) } function init() { $("#dtBasicExample").DataTable(), $(".dataTables_length").addClass("bs-select"); let a = loadJsonDBs(); a.then(function () { $("#inLevel").change(function () { let a = parseInt($("#inLevel").val()); a = Math.max(1, Math.min(30, a)), $("#inLevel").val(a), setLevels(a), resetTable(MEOWFICER_INSTANCES) }); let a = Object.keys(MEOWFICERS_DATABASE); for (let b, c = 0; c < a.length; c++)b = new Meowficer(a[c]), b.setLevel(30), MEOWFICER_INSTANCES.push(b); resetTable(MEOWFICER_INSTANCES) }) }